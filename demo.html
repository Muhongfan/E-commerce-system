<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Hello React!</title>
    <script src="https://unpkg.com/react@^16/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@16.13.0/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/babel-standalone@6.26.0/babel.js"></script>
</head>

<body>
<div id="root"></div>
<script type="text/babel">
    // React code will go here
    // create virtual dom element
    const ele1 = React.createElement('h1', {className: 'box'}, 'hello react!');
    // createElement()


    // render DOM
    ReactDOM.render(
        ele3,
        document.getElementById('root')
    )
    // JS expression
    const a = 10;
    const str = 'this is a str';
    const arr = [ <p key='1'>first</p>, <p key='2'>second</p>, <p key='3'>third</p> ];

    //map
    const arr1 = ['apple', 'pear', 'berry'];
    const res = arr1.map((item, index) => {
        return <p key={index}>* {item} *</p>
    });

    // JS function
    function formatName(user) {
        return user.firstName + ' ' + user.lastName;
    }

    const user = {
        firstName: 'Harper',
        lastName: 'Perez',
    };

    const element = <h1>Hello, {formatName(user)}!</h1>;

    ReactDOM.render(element, document.getElementById('root'));

    // use ES6 class

    class Hello extends React.Component {
        constructor() {
            super();
        }

        render() {
            return <h1>hello react, {this.props.name}</h1>
        }
    }

    ReactDOM.render(
        <Hello name={'Lucy'}></Hello>,
        document.getElementById('root')
    );




</script>
<script type="text/babel">
    // // React Component
    // //  - what is a component -> reusable template module
    // //  - how to create?
    // //      - function-based
    // //      - class-based
    //
    // // 1. fn - based
    // //  props - ready only
    // function Hello(props) {
    //     console.log(props);
    //     // props: { personData: val1, firstName: val2, age: val3}
    //     const { personData } = props;
    //     // const personData = props.personData;
    //     // return valid jsx v-elements
    //     return <h2>hello { personData.name}</h2>
    // }
    //
    // // 2. class - based
    // class Hello1 extends React.Component {
    //     // constructor() {
    //     //     super();
    //     // }
    //     render() {
    //         console.log(this);
    //         console.log(this.props);
    //         const { personData } = this.props;
    //         return <h2>hello 1 { personData.name }</h2>
    //     }
    // }
    //
    // // fn vs class
    // //  - fn: no state, no life cycle
    // //  - class: state ,  life cycle
    //
    // const person = { name: "Snoopy", age: 10 };
    //
    // ReactDOM.render(
    //     <div>
    //         <Hello personData={person} firstName={person.name} age={person.age}/>
    //         <Hello1 personData={person} />
    //     </div>
    //     ,
    //     document.getElementById("app")
    // )

    // 2. Component state
    //  - what is state - 状态 classed-based

    //  - how to use?
    class App extends React.Component {
        // define:
        // method1:
        constructor() {
            super();
            this.state = {
                a: 100,
                b: 200
            }
        }

        // method2:
        // state = {
        //     a: 100,
        //     b: 200
        // };

        render() {
            // usage
            console.log(this.state);
            return <div>
                { this.state.b }
            </div>
        }
    }

    ReactDOM.render(
        <App />,
        document.getElementById("app")
    )
</script>

<script>
    // function Dog() {
    //     console.log('hello');
    // }
    // Dog.prototype.run = function(){
    //     console.log('run');
    // }
    // var dog = new Dog();
    //
    // class Dog1 {
    //     run() {
    //         console.log('run');
    //     }
    // }
    //
    // var dog1 = new Dog1();

</script>
</body>
</html>
